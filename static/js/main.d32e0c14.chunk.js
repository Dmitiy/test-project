(this["webpackJsonptest-project"]=this["webpackJsonptest-project"]||[]).push([[0],{160:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),i=a.n(c),o=(a(160),a(117)),s=a(85),l=a(86),d=a(101),u=a(100),h=a(114),j=a.n(h),p=a(140),b=a(141),f=a.n(b),O=function(){var e=Object(p.a)(j.a.mark((function e(){var t,a,n,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a="http://95.216.159.188:7003/api/illustration",n={params:{count:10,page:t}},e.next=5,f.a.get(a,n).then((function(e){if(e){var t=e.data.result.illustrationData;return{list:t,hasMore:t.length===n.params.count}}})).catch((function(e){return console.error(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=a(258),g=a(255),m=a(256),v=a(259),k=a(22),y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onChangeHandler=function(t){var a=t.target.value.trim();e.props.onChange(a)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(x.a,{children:Object(k.jsx)(g.a,{gutter:[16,16],children:Object(k.jsx)(m.a,{span:24,children:Object(k.jsx)(v.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 ...",onChange:this.onChangeHandler,size:"large",style:{marginBottom:24}})})})})})}}]),a}(n.Component),D=a(257),M=a(32),w=a(260),C=a(261),I=[{title:"\u2116",dataIndex:"iterationId",key:"iterationId"},{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Created date",dataIndex:"createdDate",key:"createdDate"}],S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={illustration:[],filterValue:"",page:1,hasMore:!1,isDisplayModal:!1,dataModal:{}},e.fetchPageData=function(){O(e.state.page).then(e.setPageData)},e.setPageData=function(t){var a=t.list,n=t.hasMore;e.setState({illustration:[].concat(Object(o.a)(e.state.illustration),Object(o.a)(a)),hasMore:n})},e.onSearchChange=function(t){e.setState({filterValue:t})},e.addNextPageData=function(){e.setState({page:e.state.page+1,hasMore:!1},e.fetchPageData)},e.showModal=function(t){e.setState({isDisplayModal:!0,dataModal:t})},e.hideModal=function(){e.setState({isDisplayModal:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchPageData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.illustration,n=t.filterValue,r=t.hasMore,c=t.dataModal,i=a.map((function(e,t){var a=e.id,n=e.name,r=e.createdDate,c=e.cover,i=e.keywords,o=e.pack;return{iterationId:t+1,key:"".concat(a,"_").concat(t),id:"".concat(a),name:n,createdDate:r,cover:c,keywords:i,pack:o}})).filter((function(e){var t=e.id,a=e.name,r=e.createdDate;return!n||-1!==t.indexOf(n)||-1!==a.indexOf(n)||-1!==r.indexOf(n)}));return Object(k.jsxs)("div",{className:"app",children:[Object(k.jsx)(y,{data:a,onChange:this.onSearchChange}),Object(k.jsx)(D.a,{dataSource:i,columns:I,pagination:!1,onRow:function(t,a){return{onClick:function(a){console.log(t),e.showModal(t)}}}}),r&&Object(k.jsx)(M.a,{type:"primary",className:"btn-addMore",onClick:this.addNextPageData,block:!0,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"}),Object(k.jsx)(w.a,{title:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",okText:"Ok",visible:this.state.isDisplayModal,onCancel:this.hideModal,onOk:this.hideModal,children:Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsxs)("p",{children:["\u0420\u0430\u0437\u0434\u0435\u043b:",c.pack&&Object(k.jsx)(C.a,{color:"blue",children:c.pack.name})]})}),Object(k.jsxs)("li",{children:[Object(k.jsxs)("p",{children:["ID: ",c.id," "]}),Object(k.jsxs)("p",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",c.name]}),Object(k.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",c.createdDate]})]}),Object(k.jsx)("li",{children:Object(k.jsxs)("p",{children:["\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430:",c.keywords&&c.keywords.map((function(e,t){return Object(k.jsx)(C.a,{color:"green",children:e},e+Date.now())}))]})}),Object(k.jsx)("li",{children:Object(k.jsx)("img",{src:c.cover,width:272,alt:c.name})})]})})]})}}]),a}(n.Component);a(252);i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(S,{})}),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.d32e0c14.chunk.js.map